
[Параметры методов](https://metanit.com/sharp/tutorial/2.9.php)     
[Возвращение и return](https://metanit.com/sharp/tutorial/2.34.php)     

# [Методы](https://metanit.com/sharp/tutorial/2.8.php)    

## Общая информация
Метод - **блок** кода **с собственным именем**. В отличие от блоков, которые являются телом цикла внутри программы, *
*методы** существуют **отдельно** и **вызываются** при помощи **имени**. Методом является и сама программа. **Main**,
внутри которого и находится весь код, также **является методом**. Как и **Write()**, **ToInt32()** и тд.

## Объявление
Существуют встроенные в язык методы, такие как методы, такие как **Write()** то **ToInt32()**. Они уже объявлены и их
можно просто вызвать. Самодельные методы требуют объявления в формате:
```
тип метод (аргументы)
{
выполняемый код
return
}
```

### Тело метода
Сам выполняемый блок кода. Он может быть любым, как и блок кода цикла. Например:
`void PrintHall0() {Console.Write("hallo")}                             // метод при вызове выводит: hallo`

### Аргументы методов
Аргументы - значения, которые метод принимает извне для использования внутри себя.
```
void PrintMassage(string massage) { Console.Write(massage) }

PrintMassage("hallo")                                                   // методы выводит: hallo
PrintMassage(halloMassage)                                              // метод выводит текст переменной halloMassage
```

Аргументы позволяют использовать метод как **шаблон** для выполнения кода с **разными вводными данными**. Например,
математических операций. Это позволяет **переиспользовать** метод в нескольких местах программы. Аргументом может быть
значение, переменная или другой метод.

**Соответствие типов**. При вызове метода аргументы должны быть строго указанных типов и идти строго в том порядке, в
каком указаны в методе.

```
тип Метод (int x, double y){}

Метод (аргумент 1 (int), аргумент 2 (double))                             // работает
Метод (аргумент 1 (uint), аргумент 2 (double))                            // ошибка. несоответствие типа
Метод (аргумент 1 (double), аргумент 2 (int))                             // ошибка. перепутаны аргументы
```

Аргументы метода **не могут** быть **var и object**, потому что требуется строгое типирование на этапе объявления. *
*Могут** быть **dynamic**. Но это нежелательная практика. Приводит к ошибкам на этапе выполнения.

### Типы методов
Методы делятся на 2 основных типа:
#### **void** 
Не возвращает ничего. Просто выполняет блок кода. Поэтому не может быть использован как аргумент,
использовать в выражениях, записываться в переменную через = и тд.
**return** для методов **void** выступает аналогом `break` для циклов. Могут **не иметь return** вовсе.
```
void Метод(){return}                                     // метод не возвращает ничего. просто выполняет код
int x = Метод();                                         // ошибка. метод не является значением типа int
```

#### **типы**
Все остальные типы. Это может быть **любой** тип, **кроме var, dynamic и object**. Такие методы могут быть
использованы в любом месте, где требуются конкретное значение, будь то объявление переменной, аргумент, математическая
операция, потому что сами являются значением.
**return** для **типовых** методов возвращает указанное значение. Именно `return значение` позволят передать значение из
изолированного тела метода в общий код программы. **return обязателен**, метод должен вернуть значение.
```
int Метод(){return число}                               // метод возвращает число
int x = Метод();                                        // это число используется для записи в переменную
```
Методы **не могут быть** var, dynamic и object. Они должны быть **жестко типизованы** и возвращать значение
строго своего вида.

## Практическое использование
### Один метод - одна ответственность
Для каждого метода должна быть четко сформулирована одна цель, которую можно отразить в названии метода. Метод должен
выполнять эту цель и ничего больше.

### Уровни методов
**Ответственность != действие**. Не все методы выполняют одно действие. Некоторым требуется несколько разноплановых действий
или работа других методов для выполнения свой задачи. Задачи, выполняемые методами, можно разделить на несколько уровней
по степени комплексности:

#### Низкий уровень. Методы - инструменты
Они делают 1-3 действия, не учитывают контекст. Служат для выполнения одной функции. Например метод, возводящий число в
степень. Принимает число, умножает на себя, возвращает. К таким методам можно отнести:

`ReadInput`: Цель - получить ввод пользователя.
Он выдает сообщение, что пользователю нужно ввести, принимает ввод.
Не парсит, считает математику, не обрабатывает ошибки. Только принимает ввод.
`CalculateDiscount`: Цель - посчитать скидку.
Он принимает вводные ка аргумент, обрабатывает, выдает скидку.
Не запрашивает данные, не проверяет валидность. Не выдает итоговую сумму. Только считает скидку.

#### Средний уровень. Методы - процессы
Они выполняют полноценную задачу. Часто группируют методы-инструменты для последовательного выполнения задачи. К таким
методам можно отнести:

`ReadAccountStatus`: Цель - получить валидный ввод статуса.
Он циклично запрашивает ввод, проверяет валидность, выдает ошибку, если ввод неверный.
Не занимается математикой, не пишет письма, не выдает логи.
Только гарантирует валидный ввод от пользователя.

#### Высокий уровень. Методы - сценарии
Представляют собой общий процесс. Группируют разные задачи для получения цельного результата. Пример:
`Main()`

### Читаемость vs Универсальность
#### Универсальность
Полезна для методов-инструментов. Там, где выполняется одна простая функция, сделать универсальное решение, которые
будет использоваться несколько раз - хороший выбор.
#### Читаемость
Но в методах среднего уровня универсальность может снижать читаемость. Методы среднего уровня зачастую выполняют
специфические и комплексные задачи. Сделать их универсальными без потери читаемости крайне сложно. Для сложных процессов
именно читаемость и простота модификации наиболее важны.

Универсальность - для инструментов. Читаемость и модифицируемость - для процессов.