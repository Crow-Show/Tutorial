# Техническое задание (ТЗ)

## 1. Общая информация

**Название проекта:**  
Игра Крестики-Нолики

**Цель проекта:**  
Реализовать игру в крестики-нолики на 2 игроков с масштабируемым полем, проверками победы и ничьей, а также главным меню.

**Платформа и среда:**
- ОС: Windows 11
- Язык программирования: C#
- Тип приложения: консольное
- Среда разработки: JetBrains Rider

---

## 2. Область применения

Для запуска в консольной среде и игры в крестики-нолики 2 игроков с одного ПК с поочередным вводом ходов в консоль с
клавиатуры.

---

## 3. Функциональные требования

Программа должна:
* Принимать ввод пользователя с консоли
* Проверять корректность введённых данных
* Выполнять основную игровую-логику
* Выполнять функционал игрового меню
* Выполнять функционал стартового меню
* Выполнять запрос продолжения текущей и начала новой игры
* Выводить результат в консоль
* Корректно обрабатывать ошибки ввода

---

## 4 Ввод данных

- **Стартовое меню. Запрос имени игроков**
    - Тип данных: string
    - Допустимые значения: не null
    - Поведение при некорректном вводе: показать сообщение об ошибке, перезапросить ввод

- **Стартовое меню. Запрос размера поля**
    - Тип данных: string
    - Допустимые значения: от 3 до 26
    - Поведение при некорректном вводе: показать сообщение об ошибке, перезапросить ввод

- **Главное меню. Запрос команд**
    - Тип данных: string
    - Допустимые значения(не чувствительны к регистру): "Рестарт", "Ресет", "Выход"
    - Поведение при некорректном вводе: показать сообщение об ошибке, перезапросить ввод

- **Игровые команды. Запрос хода**
    - Тип данных: string
    - Допустимые значения(не чувствительны к регистру): координаты клетки в формате "Буква + Цифра", динамически от размера поля
    - Поведение при некорректном вводе: показать сообщение об ошибке, перезапросить ввод

- **Послеигровое меню (раунд). Запрос команд**
    - Тип данных: string
    - Допустимые значения(не чувствительны к регистру): "Да", "Нет"
    - Поведение при некорректном вводе: показать сообщение об ошибке, перезапросить ввод

- **Послеигровое меню (общее). Запрос команд**
    - Тип данных: string
    - Допустимые значения(не чувствительны к регистру): "Да", "Нет"
    - Поведение при некорректном вводе: показать сообщение об ошибке, перезапросить ввод
---

## 5 Вывод данных

## Вывод данных

### Общие требования
- Все выводимые данные должны быть понятны без пояснений
- Числовые значения всегда сопровождаются подписями
- Сообщения об ошибках выводятся в явном виде
- Вывод не должен содержать отладочной информации


### Игровое поле
- Тип данных: string
- Формат: таблица-игровое поле
- Таблица форматируется согласно размеру поля автоматически
- Все строки и столбцы обозначены буквами о A до С и цифрами от 1 до 3
- Пустые клетки обозначены: "  "
- Клетка с Х обозначена: " Х "
- Клетка с 0 обозначена: " 0 "
- Все клетки заключены в блоки "|" (пример "| 0 |")
- Между всеми строками таблицы находится строка разделитель формата: "-----"
- Разделитель автоматически подстраивается под размеры поля
- Итоговый шаблон поля:
```
    A  B  C
  ----------
1 |  |  |  |
  ----------
2 |  |  |  |
  ----------
3 |  |  |  |
  ----------
```

### Сообщения пользователю c запросом ввод
- Тип данных: string
- Формат: список
- Список допустимых команд с описанием (пример "Выход: завершает игру")
- Запрос ввести команду (пример "Введите команду из списка: ")

### Сообщения пользователю об ошибке
- Тип данных: string
- Формат: строка-сообщение
- Описывает суть ошибки (пример "Недопустимое действие. Клетка уже занята")

### Статистика
**Таблица**
- Тип данных: string
- Формат: таблица
- Столбцов: 4 ("Раунд", "Игрок 1", "Игрок 2", "Ничьи")
- Строк: по числу раундов
- Варианты клеток: 3 ("Win", "Draw", " ")

**Результаты**
- Тип данных: string
- Формат: список
- Строк: 3
- Строки: "Победы игрока 1", "Победы игрока 2", "Ничьи"
- После номера игрока отображается имя

## 6. Логика работы программы

Пошаговый сценарий(глобальный):

1. Запуск программы
2. Запуск стартового меню
3. Запуск сценария игры

Сценарий стартового меню:
1. Запуск программы
2. Запрос имени игрока X
3. Проверка корректности
4. Запрос имени игрока 0
5. Проверка корректности
6. Запрос размера поля
7. Проверка корректности

Сценарий игры(глобальный)
1. Запрос стартовой информации
2. Запуск цикла раундов
3. Создание статистики
4. Запуск сценария раунда
   4.1 (полечен выход в игровое меню) Запуск меню
   4.2 Обработки команды из меню
5. Вывод текущей статистики
6. Обновление статистики
7. Запрос выхода или повтора
8. Проверка корректности ввода
   8.1 (получена команда выхода) Выход
   8.2 (получена команда перезапуска) Продолжение работы цикла раундов 

Сценарий раунда
1. Запуск цикла ходов
2. Запуск сценария хода
3. Подведение итогов

Сценарий хода
1. Вывод поля
2. Запрос ввода команды
3. Проверка корректности ввода
   3.1 (получена команда меню) Выход в меню
   3.2 (получен номер клетки) Проверка занята ли клетка
4. Изменение поля
5. Проверка победы
   5.1 (если победа) Завершение раунда
6. Проверка ничьей
   6.1 (если ничья) Завершение раунда
7. Следующий ход

Сценарий меню
1. Вывод списка команд
2. Запрос ввода команды
3. Проверка корректности ввода.
4. Запуск команды

Сценарии команд меню
* Показать статистику
* Рестарт: очистка поля без изменения номера раунда, передача хода игроку Х
* Ресет: полный рестарт игры с пересозданием поля и имен игроков
* Выход: показ текущей статистики, закрытие программы

---

## 7. Архитектурные требования

- Код должен быть разбит на логические блоки
- Имена переменных и методов должны быть осмысленными
- Повторяющаяся логика не должна дублироваться
- Магические числа запрещены (использовать константы)
- Код должен быть легко читаем без дополнительных пояснений

---

## 8. Ограничения и допущения

- Используются только возможности главы 2 Metanit
- Без ООП, классов и коллекций (разрешены статически классы для хранения констант)
- Допустимы: массивы, циклы, условия, методы, рекорды
- Без сторонних библиотек

---

## 9. Обработка ошибок

- Программа не должна аварийно завершаться
- Некорректный ввод должен обрабатываться корректно
- Пользователь должен получать понятные сообщения об ошибках

---

## 10. Нефункциональные требования

- Проект должен компилироваться без ошибок и предупреждений
- Код должен быть отформатирован

---

## 11. Критерии приёмки

Проект считается завершённым, если:
- Реализован весь заявленный функционал
- Все сценарии из раздела 6 работают корректно
- Код читаемый и поддерживаемый
- Отсутствует дублирование логики

---
